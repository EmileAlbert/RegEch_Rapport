% http://www.tuteurs.ens.fr/logiciels/latex/nouveau_package.html

% General information
\NeedsTeXFormat{LaTeX2e}
% \ProvidesPackage{PersonalPackage}[V2.2.25.04.2018]

% Extension loading 

\RequirePackage[french]{babel}
\RequirePackage{enumitem}
\frenchbsetup{StandardLists=true} 

\RequirePackage{comment}

\RequirePackage[usenames, dvipsnames]{xcolor}
\RequirePackage{color}

\RequirePackage{float}
\RequirePackage{graphicx}
\RequirePackage{framed}

\RequirePackage{ulem}

\RequirePackage{ifmtarg}
\RequirePackage{xargs}

\RequirePackage{url}
\RequirePackage{datetime}
\newdateformat{mydateformat}{\THEDAY~\monthname~\THEYEAR}

\RequirePackage[final]{pdfpages}

\RequirePackage{titling}

% Work with Pygments python library (pip install)
\RequirePackage[cache=false]{minted}
\RequirePackage{mdframed}

\setlength{\parindent}{0cm}

% Divers
\hbadness=1000000

% http://www.tuteurs.ens.fr/logiciels/latex/macros.html
% Personal command
\def\•subtitle{no title}
\newcommand{\subtitle}[1]{\def\•subtitle{#1}}

\newcommand{\maketitlepage}{
	\begin{titlepage} 
		\hspace{0.5cm}	
		\rule{1.5pt}{\textheight} 
		\hspace{1.5cm}		
		\parbox[b]{13cm}
		{  		
			{\huge \thetitle}\\[1\baselineskip]
			{\LARGE \•subtitle} \\[1\baselineskip]
			\mydateformat\today \\[3\baselineskip]
			
			{\Large \theauthor}\\[22\baselineskip]
			\hspace*{5.7cm}\vspace*{-0.75cm}\includegraphics[scale=0.3]{logo_ECAM.png}
		}
	\end{titlepage}}
	
\newcommand*{\fig}[3]{
	\begin{figure}[H]
	\centering
	\includegraphics[scale=#2]{#1}
	\@ifmtarg{#3}{}{\caption{#3}}
	\label{#1}	
	\end{figure}}
	
\newcommand*{\figcm}[3]{
	\begin{figure}[H]	
	\centering 
	\includegraphics[width= #2cm]{#1}
	\@ifmtarg{#3}{}{\caption{#3}}
	\label{#1}	
	\end{figure}}	

\newcommand*{\figtxt}[2]{
	\begin{figure}[H]	
	\centering 
	\includegraphics[width=\textwidth]{#1}
	\@ifmtarg{#2}{}{\caption{#2}}
	\label{#1}	
	\end{figure}}
	
\newcommand*{\figsided}[6]{
	\begin{figure}[H]
	\begin{minipage}[c]{0.45\linewidth}
	\centering
	\fig{#1}{#2}{#3}
	\end{minipage}
	\hfill
	\begin{minipage}[c]{0.45\linewidth}
	\centering
	\fig{#4}{#5}{#6}
	\end{minipage} 
	\end{figure}
	}
	

% Code highlighting
% https://www.sharelatex.com/learn/Code_Highlighting_with_minted#Reference_guide
\definecolor{bg}{rgb}{0.95,0.95,0.95}
\newenvironment{sourcecode}[1][]{
	\VerbatimEnvironment
	\begin{mdframed}[backgroundcolor=bg,topline=false,bottomline=false, rightline=false,leftline=false]
	\begin{minted}[linenos,#1]
	}	
	{
	\end{minted}
	\end{mdframed}}
	
\newcommand{\sourcecodefile}[2]{
	\inputminted{#1}{#2}}
	
\endinput